<html>

<head>
    <script type='text/javascript' src='resources/jquery3.2.1.min.js'></script>
    <script type='text/javascript' src='resources/angular.min.js'></script>
    <script type='text/javascript' src='resources/ng-infinite-scroll.min.js'></script>
    <script>
        var myApp = angular.module('PublisherLP', ['infinite-scroll']);
        myApp.controller('LPController', function ($scope, $http) {
            $scope.offset = 0;
            $scope.stories = [];
            $scope.getStories = function () {
                $http({
                    method: "GET",
                    url: "https://rio.quintype.io/api/v1/stories?limit=5&offset=" + $scope.offset
                }).then(function (response) {
                    $scope.stories = $scope.stories.concat(response.data.stories);
                    $scope.offset = $scope.offset + 5;
                    debugger;
                }, function myError(response) {
                    debugger;
                });
            };
        });
    </script>
    <style>
        body {
            background-color: #f4f4f4;

        }
    </style>
</head>

<body ng-app='PublisherLP' ng-controller='LPController'>
    <div infinite-scroll='getStories()' infinite-scroll-distance='1' infinite-scroll-use-document-bottom=true>
        <div ng-repeat='story in stories'>
            <span> {{story.headline}} </span>
            <div style='clear: both;'></div>
        </div>
        <div ng-show='LP.busy'>Loading data...</div>
    </div>
</body>

</html>